{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/bullet.ts","app/enemy-a.ts","app/enemy-b.ts","app/game-object.ts","app/game.ts","app/obstacle.ts","app/player.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;ACAA,4BAA2C,AAE3C;;IAAoB;;;AAEhB,oBAAY,AAAiB,WAAE,AAAS,GAAE,AAAS,GAAE,AAAQ;AACzD,AAAK;;oHAAC,AAAC,GAAE,AAAC,GAAE,AAAE,IAAE,AAAE,IAAE,AAAS,WAAE,AAAG,AAAC,AAAC;;AACpC,AAAI,cAAC,AAAS,YAAG,AAAS,AAAC;AAC3B,AAAI,cAAC,AAAW,AAAE,AAAC,AACvB;;AAAC,AACO,AAAW;;;;;;;AACf,gBAAM,AAAE,KAAG,AAAI,AAAC;AAChB,AAAa,0BAAC,AAAE,GAAC,AAAO,AAAC,AAAC;AAC1B,AAAI,iBAAC,AAAO,sBAAe,AAAG,AAAE;AAC5B,AAAE,AAAC,oBAAC,AAAI,OAAC,AAAS,cAAK,AAAO,AAAC,SAAC,AAAC;AAC7B,AAAE,uBAAC,AAAC,KAAI,AAAC,AAAC,AACd;AAAC,AAAC,AAAI,uBAAC,AAAE,AAAC,IAAC,AAAI,OAAC,AAAS,cAAK,AAAM,AAAC,QAAC,AAAC;AACnC,AAAE,uBAAC,AAAC,KAAI,AAAC,AAAC,AACd;AAAC;AACD,AAAE,AAAC,oBAAC,AAAE,GAAC,AAAC,IAAG,AAAE,GAAC,AAAO,QAAC,AAAM,OAAC,AAAK,SAAI,AAAE,GAAC,AAAC,IAAG,AAAC,AAAC,GAAC,AAAC;AAC7C,AAAa,kCAAC,AAAE,GAAC,AAAO,AAAC,AAAC,AAC9B;AAAC,AACL;AAAC,aATc,AAAW,EASvB,AAAE,AAAC,AAAC,AACX;AAAC,AAEJ;;;;EAtB2B,cAAU;;AAAtC,iBAsBC;;;;;;;;;;;;ACxBD,4BAA2C,AAE3C;;IAAoB;;;AAGhB,oBAAY,AAAS,GAAE,AAAS,GAAE,AAAQ;AACtC,AAAK;;oHAAC,AAAC,GAAE,AAAC,GAAE,AAAE,IAAE,AAAE,IAAE,AAAS,WAAE,AAAG,AAAC,AAAC;;AAHjC,cAAQ,WAAG,AAAK,AAAC;AACjB,cAAK,QAAG,AAAE,AAAC,AAGlB;;AAAC,AACJ;;;EAN2B,cAAU;;AAAtC,iBAMC;;;;;;;;;;;;ACRD,4BAA2C,AAE3C;;IAAoB;;;AAGhB,oBAAY,AAAS,GAAE,AAAS,GAAE,AAAQ;AACtC,AAAK;;oHAAC,AAAC,GAAE,AAAC,IAAG,AAAE,IAAE,AAAE,IAAE,AAAE,IAAE,AAAS,WAAE,AAAG,AAAC,AAAC;;AAHtC,cAAQ,WAAG,AAAI,AAAC;AAChB,cAAK,QAAG,AAAG,AAAC,AAGnB;;AAAC,AACJ;;;EAN2B,cAAU;;AAAtC,iBAMC;;;;;;;;;sDCND;;;AAaI,wBAAY,AAAS,GAAE,AAAS,GAAE,AAAS,GAAE,AAAS,GAAE,AAAa,OAAE,AAAQ;;;AAJxE,aAAK,QAAG,AAAE,AAAC;AACX,aAAM,SAAG,AAAC,AAAC;AAEX,aAAS,YAAG,AAAO,AAAC;AAEvB,AAAI,aAAC,AAAE,KAAG,AAAC,AAAC;AACZ,AAAI,aAAC,AAAC,IAAG,AAAC,AAAC;AACX,AAAI,aAAC,AAAC,IAAG,AAAC,AAAC;AACX,AAAI,aAAC,AAAS,YAAG,AAAI,KAAC,AAAC,AAAC;AACxB,AAAI,aAAC,AAAK,QAAG,AAAC,AAAC;AACf,AAAI,aAAC,AAAM,SAAG,AAAC,AAAC;AAChB,AAAI,aAAC,AAAO,UAAG,AAAG,AAAC;AACnB,AAAI,aAAC,AAAK,QAAG,AAAK,AAAC;AACnB,AAAI,aAAC,AAAM,AAAE,AAAC,AAClB;AAAC,AACM,AAAM;;;;;AACT,AAAI,iBAAC,AAAC,KAAI,AAAI,KAAC,AAAM,AAAC;AACtB,AAAI,iBAAC,AAAU,AAAE,AAAC;AAClB,AAAI,iBAAC,AAAO,QAAC,AAAS,YAAG,AAAI,KAAC,AAAK,AAAC;AACpC,AAAI,iBAAC,AAAO,QAAC,AAAQ,SAAC,AAAI,KAAC,AAAC,GAAE,AAAI,KAAC,AAAC,GAAE,AAAI,KAAC,AAAK,OAAE,AAAI,KAAC,AAAM,AAAC,AAAC,AACnE;AAAC,AACM,AAAS;;;;AACZ,AAAI,iBAAC,AAAM,SAAG,AAAI,KAAC,AAAK,AAAC;AACzB,AAAI,iBAAC,AAAS,YAAG,AAAO,AAAC,AAC7B;AAAC,AACM,AAAQ;;;;AACX,AAAI,iBAAC,AAAM,SAAG,AAAI,KAAC,AAAK,QAAG,CAAC,AAAC,AAAC;AAC9B,AAAI,iBAAC,AAAS,YAAG,AAAM,AAAC,AAC5B;AAAC,AACM,AAAU;;;;AACb,AAAI,iBAAC,AAAM,SAAG,AAAC,AAAC,AACpB;AAAC,AACJ;;;;;;AAzCD,qBAyCC;;;;;;;;;;AC3CD,wBAAmC;AACnC,wBAAmC;AACnC,4BAA2C;AAC3C,yBAAsC;AACtC,uBAAkC,AAElC;;;AAQE;;;AACE,AAAI,aAAC,AAAS,AAAE,AAAC,AACnB;AAAC,AAEM,AAAS;;;;;AACd,AAAgB;AAChB,AAAI,iBAAC,AAAK,QAAG,AAAC,AAAC;AAEf,AAAe;AACf,AAAI,iBAAC,AAAS,AAAE,AAAC;AAEjB,AAA+C;AAC/C,AAAI,iBAAC,AAAY,AAAE,AAAC;AACpB,AAAI,iBAAC,AAAe,AAAE,AAAC;AACvB,AAAI,iBAAC,AAAa,AAAE,AAAC;AACrB,AAAI,iBAAC,AAAgB,iBAAC,AAAI,KAAC,AAAK,AAAC,AAAC;AAElC,AAAI,iBAAC,AAAS,AAAE,AAAC,AACnB;AAAC,AACO,AAAS;;;;;;AACf,AAAI,iBAAC,AAAM,SAAG,AAAQ,SAAC,AAAc,eAAC,AAAQ,AAAC,AAAC;AAChD,AAAI,iBAAC,AAAM,OAAC,AAAK,QAAG,AAAG,AAAC;AACxB,AAAI,iBAAC,AAAM,OAAC,AAAM,SAAG,AAAG,AAAC;AACzB,AAAI,iBAAC,AAAO,UAAG,AAAI,KAAC,AAAM,OAAC,AAAU,WAAC,AAAI,AAAC,AAAC;AAC5C,AAAQ,qBAAC,AAAI,KAAC,AAAY,aAAC,AAAI,KAAC,AAAM,QAAE,AAAQ,SAAC,AAAI,KAAC,AAAU,WAAC,AAAC,AAAC,AAAC,AAAC;AACrE,AAAiC;AACjC,AAAW;AAAC,AAAG,AAAE,uBAAC,AAAI,MAAC,AAAc,AAAE;eAAE,AAAE,AAAC,AAAC,AAC/C;AAAC,AACO,AAAgB;;;yCAAC,AAAa;AACpC,AAAmB;AACnB,AAAI,iBAAC,AAAK,QAAG,IAAI,cAAU,WAAC,AAAC,GAAE,AAAG,KAAE,AAAG,KAAE,AAAE,IAAE,AAAS,WAAE,AAAI,KAAC,AAAO,AAAC,AAAC;AACtE,AAAM,AAAC,oBAAC,AAAK,AAAC,AAAC,AAAC;AACd,qBAAK,AAAC;AACJ,AAA+C;AAC/C,AAAK,AAAC,AACV,AAAC,AACH;;AAAC,AACO,AAAY;;;;AAClB,AAAI,iBAAC,AAAM,SAAG,IAAI,SAAM,OAAC,AAAE,IAAE,AAAG,KAAE,AAAI,KAAC,AAAO,AAAC,AAAC,AAClD;AAAC,AACO,AAAe;;;;AACrB,AAAI,iBAAC,AAAS,YAAG,CACf,IAAI,WAAQ,SAAC,AAAG,KAAE,AAAG,KAAE,AAAE,IAAE,AAAE,IAAE,AAAS,WAAE,AAAI,KAAC,AAAO,AAAC,UACvD,IAAI,WAAQ,SAAC,AAAG,KAAE,AAAG,KAAE,AAAE,IAAE,AAAE,IAAE,AAAS,WAAE,AAAI,KAAC,AAAO,AAAC,AACxD,AAAC,AACJ;AAAC,AACO,AAAa;;;;AACnB,AAAI,iBAAC,AAAO,UAAG,CACb,IAAI,UAAM,OAAC,AAAG,KAAE,AAAG,KAAE,AAAI,KAAC,AAAO,AAAC,UAClC,IAAI,UAAM,OAAC,AAAG,KAAE,AAAG,KAAE,AAAI,KAAC,AAAO,AAAC,UAClC,IAAI,UAAM,OAAC,AAAG,KAAE,AAAG,KAAE,AAAI,KAAC,AAAO,AAAC,AACnC,AAAC,AACJ;AAAC,AACO,AAAK;;;;AACX,AAAI,iBAAC,AAAO,QAAC,AAAS,UAAC,AAAC,GAAE,AAAC,GAAE,AAAI,KAAC,AAAM,OAAC,AAAK,OAAE,AAAI,KAAC,AAAM,OAAC,AAAM,AAAC,AAAC,AACtE;AAAC,AACO,AAAc;;;;AACpB,AAAI,iBAAC,AAAK,AAAE,AAAC;AACb,AAAI,iBAAC,AAAK,MAAC,AAAM,AAAE,AAAC;AACpB,AAAI,iBAAC,AAAM,OAAC,AAAM,AAAE,AAAC;AACrB,AAAI,iBAAC,AAAa,AAAE,AAAC;AACrB,AAAI,iBAAC,AAAe,AAAE,AAAC;AACvB,AAAI,iBAAC,AAAa,AAAE,AAAC,AACvB;AAAC,AACO,AAAa;;;;;;;;;AACnB,AAAG,AAAC,AAAC,qCAAe,AAAI,KAAC,AAAO,AAAC;AAAC,AAAC,wBAAxB,AAAK;;AACd,AAAK,0BAAC,AAAM,AAAE,AAAC,AACjB;AAAC,AACH;;;;;;;;;;;;;;;AAAC,AACO,AAAe;;;;;;;;;AACrB,AAAG,AAAC,AAAC,sCAAkB,AAAI,KAAC,AAAS,AAAC;AAAC,AAAC,wBAA7B,AAAQ;;AACjB,AAAQ,6BAAC,AAAM,AAAE,AAAC,AACpB;AAAC,AACH;;;;;;;;;;;;;;;AAAC,AACO,AAAa;;;;;;;;;AACnB,AAAG,AAAC,AAAC,sCAAgB,AAAI,KAAC,AAAM,OAAC,AAAO,AAAC;AAAC,AAAC,wBAAhC,AAAM;;AACf,AAA4B;AAC5B,AAAE,AAAC,wBAAC,AAAM,OAAC,AAAC,IAAG,AAAI,KAAC,AAAM,OAAC,AAAK,SAAI,AAAM,OAAC,AAAC,IAAG,AAAC,AAAC,GAAC,AAAC;AACjD,4BAAM,AAAK,QAAG,AAAI,KAAC,AAAM,OAAC,AAAO,QAAC,AAAO,QAAC,AAAM,AAAC,AAAC;AAClD,AAAE,AAAC,4BAAC,AAAK,QAAG,CAAC,AAAC,AAAC,GAAC,AAAC;AACf,AAAI,iCAAC,AAAM,OAAC,AAAO,QAAC,AAAM,OAAC,AAAK,OAAE,AAAC,AAAC,AAAC,AACvC;AAAC,AACH;AAAC;AACD,AAAM,2BAAC,AAAM,AAAE,AAAC,AAClB;AAAC,AACH;;;;;;;;;;;;;;;AAAC,AACO,AAAS;;;;;;AACf,AAAM,mBAAC,AAAgB,iBAAC,AAAS,qBAAG,AAAC,AAAE,AAAE;AAAN,uBAAO,AAAI,OAAC,AAAQ,SAAC,AAAC,AAAC;eAAE,AAAK,AAAC,AAAC;AACnE,AAAM,mBAAC,AAAgB,iBAAC,AAAO,mBAAG,AAAC,AAAE,AAAE;AAAN,uBAAO,AAAI,OAAC,AAAQ,SAAC,AAAC,AAAC;eAAE,AAAK,AAAC,AAAC,AACnE;AAAC,AACO,AAAQ;;;iCAAC,AAAM;AACrB,gBAAM,AAAI,OAAG,AAAC,EAAC,AAAO,AAAC;AACvB,AAAE,AAAC,gBAAC,AAAC,EAAC,AAAI,SAAK,AAAS,AAAC,WAAC,AAAC;AACzB,AAAM,AAAC,wBAAC,AAAI,AAAC,AAAC,AAAC;AACX,yBAAK,AAAE;AAAE,AAAI,6BAAC,AAAM,OAAC,AAAK,AAAE,AAAC;AAAC,AAAK,AAAC,+BAAC,AAAW;AAChD,yBAAK,AAAE;AAAE,AAAI,6BAAC,AAAM,OAAC,AAAQ,AAAE,AAAC;AAAC,AAAK,AAAC,+BAAC,AAAW;AACnD,yBAAK,AAAE;AAAE,AAAI,6BAAC,AAAM,OAAC,AAAI,AAAE,AAAC;AAAC,AAAK,AAAC,+BAAC,AAAS;AAC7C,yBAAK,AAAE;AAAE,AAAI,6BAAC,AAAM,OAAC,AAAS,AAAE,AAAC;AAAC,AAAK,AAAC,+BAAC,AAAY;AACrD;AAAS,AAAO,gCAAC,AAAG,IAAC,AAAI,AAAC,AAAC,OAAC,AAAkB,AAClD,AAAC,AACH;;AAAC,AAAC,AAAI,mBAAC,AAAE,AAAC,IAAC,AAAC,EAAC,AAAI,SAAK,AAAO,AAAC,SAAC,AAAC;AAC9B,AAAM,AAAC,wBAAC,AAAI,AAAC,AAAC,AAAC;AACX,yBAAK,AAAE;AAAE,AAAI,6BAAC,AAAM,OAAC,AAAU,AAAE,AAAC;AAAC,AAAK,AAAC,+BAAC,AAAW;AACrD,yBAAK,AAAE;AAAE,AAAI,6BAAC,AAAM,OAAC,AAAU,AAAE,AAAC;AAAC,AAAK,AAAC,+BAAC,AAAY;AACtD;AAAS,AAAO,gCAAC,AAAG,IAAC,AAAI,AAAC,AAAC,OAAC,AAAkB,AAClD,AAAC,AACH;;AAAC,AACH;AAAC,AACF;;;;;;AACD,IAAM,AAAI,OAAG,IAAI,AAAI,AAAE,AAAC;AACxB,AAAoB;;;;;;;;;sDC1HpB;;;AAOI,sBAAY,AAAS,GAAE,AAAS,GAAE,AAAS,GAAE,AAAS,GAAE,AAAa,OAAE,AAAQ;;;AAC3E,AAAI,aAAC,AAAC,IAAG,AAAC,AAAC;AACX,AAAI,aAAC,AAAC,IAAG,AAAC,AAAC;AACX,AAAI,aAAC,AAAK,QAAG,AAAC,AAAC;AACf,AAAI,aAAC,AAAM,SAAG,AAAC,AAAC;AAChB,AAAI,aAAC,AAAO,UAAG,AAAG,AAAC;AACnB,AAAI,aAAC,AAAK,QAAG,AAAK,AAAC;AACnB,AAAI,aAAC,AAAM,AAAE,AAAC,AAClB;AAAC,AACM,AAAM;;;;;AACT,AAAI,iBAAC,AAAO,QAAC,AAAS,YAAG,AAAI,KAAC,AAAK,AAAC;AACpC,AAAI,iBAAC,AAAO,QAAC,AAAQ,SAAC,AAAI,KAAC,AAAC,GAAE,AAAI,KAAC,AAAC,GAAE,AAAI,KAAC,AAAK,OAAE,AAAI,KAAC,AAAM,AAAC,AAAC,AACnE;AAAC,AACJ;;;;;;AApBD,mBAoBC;;;;;;;;;;;;;;ACtBD,uBAAkC;AAClC,4BAA2C,AAE3C;;IAAoB;;;AAEhB,oBAAY,AAAS,GAAE,AAAS,GAAE,AAAQ;AACtC,AAAK;;oHAAC,AAAC,GAAE,AAAC,GAAE,AAAE,IAAE,AAAE,IAAE,AAAS,WAAE,AAAG,AAAC,AAAC;;AACpC,AAAI,cAAC,AAAO,UAAG,AAAE,AAAC,AACtB;;AAAC,AACM,AAAI;;;;;AACP,gBAAI,AAAS,YAAG,AAAK,AAAC;AACtB,gBAAM,AAAE,KAAG,AAAI,AAAC;AAChB,gBAAM,AAAK,QAAG,AAAG,AAAC;AAClB,AAAa,0BAAC,AAAE,GAAC,AAAO,AAAC,AAAC;AAC1B,AAAI,iBAAC,AAAO,sBAAe,AAAG,AAAE;AAC5B,AAAE,AAAC,oBAAC,AAAE,GAAC,AAAC,IAAG,AAAK,SAAI,CAAC,AAAS,AAAC,WAAC,AAAC;AAC7B,AAAE,uBAAC,AAAC,KAAI,AAAC,AAAC,AACd;AAAC,AAAC,AAAI,uBAAC,AAAC;AACJ,AAAS,gCAAG,AAAI,AAAC;AACjB,AAAE,uBAAC,AAAC,KAAI,AAAC,AAAC;AACV,AAAE,AAAC,wBAAC,AAAE,GAAC,AAAC,IAAG,AAAE,GAAC,AAAS,AAAC,WAAC,AAAC;AACtB,AAAa,sCAAC,AAAE,GAAC,AAAO,AAAC,AAAC;AAC1B,AAAE,2BAAC,AAAC,IAAG,AAAE,GAAC,AAAS,AAAC;AACpB,AAAS,oCAAG,AAAK,AAAC,AACtB;AAAC,AACL;AAAC,AACL;AAAC,aAZc,AAAW,EAYvB,AAAE,AAAC,AAAC,AACX;AAAC,AACM,AAAK;;;;AACR,AAAI,iBAAC,AAAO,QAAC,AAAI,KAAC,IAAI,SAAM,OAAC,AAAI,KAAC,AAAS,WAAE,AAAI,KAAC,AAAC,GAAE,AAAI,KAAC,AAAC,GAAE,AAAI,KAAC,AAAO,AAAC,AAAC,AAAC,AAChF;AAAC,AACJ;;;;EA5B2B,cAAU;;AAAtC,iBA4BC","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { GameObject } from './game-object';\n\nexport class Bullet extends GameObject {\n    private missile: any;\n    constructor(direction: string, x: number, y: number, ctx: any) {\n        super(x, y, 15, 15, '#ffecb2', ctx);\n        this.direction = direction;\n        this.shootBullet();\n    }\n    private shootBullet() {\n        const me = this;\n        clearInterval(me.jumping);\n        this.missile = setInterval(() => {\n            if (this.direction === 'front') {\n                me.x += 3;\n            } else if (this.direction === 'back') {\n                me.x -= 3;\n            }\n            if (me.x > me.context.canvas.width || me.x < 0) {\n                clearInterval(me.missile);\n            }\n        }, 10);\n    }\n\n}\n","import { GameObject } from './game-object';\n\nexport class EnemyA extends GameObject {\n    public freeWill = false;\n    public speed = .8;\n    constructor(x: number, y: number, ctx: any) {\n        super(x, y, 10, 40, '#c83349', ctx);\n    }\n}\n","import { GameObject } from './game-object';\n\nexport class EnemyB extends GameObject {\n    public freeWill = true;\n    public speed = 1.2;\n    constructor(x: number, y: number, ctx: any) {\n        super(x, y - 10, 10, 50, '#8a1830', ctx);\n    }\n}\n","import { IGameObject } from './game-object.interface';\n\nexport class GameObject implements IGameObject {\n    public hp: number;\n    public x: number;\n    public y: number;\n    public originalY: number;\n    public width: number;\n    public height: number;\n    public context: any;\n    public color: string;\n    public speed = 20;\n    public speedX = 0;\n    public jumping: any;\n    public direction = 'front';\n    constructor(x: number, y: number, w: number, h: number, color: string, ctx: any) {\n        this.hp = 1;\n        this.x = x;\n        this.y = y;\n        this.originalY = this.y;\n        this.width = w;\n        this.height = h;\n        this.context = ctx;\n        this.color = color;\n        this.update();\n    }\n    public update() {\n        this.x += this.speedX;\n        this.clearSpeed();\n        this.context.fillStyle = this.color;\n        this.context.fillRect(this.x, this.y, this.width, this.height);\n    }\n    public moveFront() {\n        this.speedX = this.speed;\n        this.direction = 'front';\n    }\n    public moveBack() {\n        this.speedX = this.speed * -1;\n        this.direction = 'back';\n    }\n    public clearSpeed() {\n        this.speedX = 0;\n    }\n}\n","import { EnemyA } from './enemy-a';\nimport { EnemyB } from './enemy-b';\nimport { GameObject } from './game-object';\nimport { Obstacle } from './obstacle';\nimport { Player } from './player';\n\nclass Game {\n  private canvas: any;\n  private context: any;\n  private player: Player;\n  private floor: GameObject;\n  private obstacles: Obstacle[];\n  private enemies: GameObject[];\n  private level: number;\n  constructor() {\n    this.startGame();\n  }\n\n  public startGame() {\n    // Level to play\n    this.level = 1;\n\n    // Canvas setup\n    this.setCanvas();\n\n    // Add elements: players, obstacles and enemies\n    this.createPlayer();\n    this.createObstacles();\n    this.createEnemies();\n    this.setLevelElements(this.level);\n\n    this.addEvents();\n  }\n  private setCanvas() {\n    this.canvas = document.getElementById('canvas');\n    this.canvas.width = 800;\n    this.canvas.height = 270;\n    this.context = this.canvas.getContext('2d');\n    document.body.insertBefore(this.canvas, document.body.childNodes[0]);\n    // Function for canvas refreshing\n    setInterval(() => this.updateGameArea(), 20);\n  }\n  private setLevelElements(level: number) {\n    // General elements\n    this.floor = new GameObject(0, 250, 800, 20, '#667292', this.context);\n    switch (level) {\n      case 1:\n        // Add elements: players, obstacles and enemies\n        break;\n    }\n  }\n  private createPlayer() {\n    this.player = new Player(20, 210, this.context);\n  }\n  private createObstacles() {\n    this.obstacles = [\n      new Obstacle(120, 230, 20, 20, '#8d9db6', this.context),\n      new Obstacle(280, 230, 20, 20, '#8d9db6', this.context),\n    ];\n  }\n  private createEnemies() {\n    this.enemies = [\n      new EnemyA(150, 210, this.context),\n      new EnemyA(240, 210, this.context),\n      new EnemyB(480, 210, this.context),\n    ];\n  }\n  private clear() {\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n  private updateGameArea() {\n    this.clear();\n    this.floor.update();\n    this.player.update();\n    this.renderEnemies();\n    this.renderObstacles();\n    this.renderBullets();\n  }\n  private renderEnemies() {\n    for (const enemy of this.enemies) {\n      enemy.update();\n    }\n  }\n  private renderObstacles() {\n    for (const obstacle of this.obstacles) {\n      obstacle.update();\n    }\n  }\n  private renderBullets() {\n    for (const bullet of this.player.bullets) {\n      // check if is still visible\n      if (bullet.x > this.canvas.width || bullet.x < 0) {\n        const index = this.player.bullets.indexOf(bullet);\n        if (index > -1) {\n          this.player.bullets.splice(index, 1);\n        }\n      }\n      bullet.update();\n    }\n  }\n  private addEvents() {\n    window.addEventListener('keydown', (e) => this.checkKey(e), false);\n    window.addEventListener('keyup', (e) => this.checkKey(e), false);\n  }\n  private checkKey(e: any) {\n    const code = e.keyCode;\n    if (e.type === 'keydown') {\n      switch (code) {\n          case 32: this.player.shoot(); break; // Left key\n          case 37: this.player.moveBack(); break; // Left key\n          case 38: this.player.jump(); break; // Up key\n          case 39: this.player.moveFront(); break; // Right key\n          default: console.log(code); // Everything else\n      }\n    } else if (e.type === 'keyup') {\n      switch (code) {\n          case 37: this.player.clearSpeed(); break; // Left key\n          case 39: this.player.clearSpeed(); break; // Right key\n          default: console.log(code); // Everything else\n      }\n    }\n  }\n}\nconst game = new Game();\n// game.startGame();\n","import { IGameObject } from './game-object.interface';\n\nexport class Obstacle implements IGameObject {\n    public x: number;\n    public y: number;\n    public width: number;\n    public height: number;\n    public context: any;\n    public color: string;\n    constructor(x: number, y: number, w: number, h: number, color: string, ctx: any) {\n        this.x = x;\n        this.y = y;\n        this.width = w;\n        this.height = h;\n        this.context = ctx;\n        this.color = color;\n        this.update();\n    }\n    public update() {\n        this.context.fillStyle = this.color;\n        this.context.fillRect(this.x, this.y, this.width, this.height);\n    }\n}\n","import { Bullet } from './bullet';\nimport { GameObject } from './game-object';\n\nexport class Player extends GameObject {\n    public bullets: Bullet[];\n    constructor(x: number, y: number, ctx: any) {\n        super(x, y, 10, 40, '#907d61', ctx);\n        this.bullets = [];\n    }\n    public jump() {\n        let goingDown = false;\n        const me = this;\n        const limit = 150;\n        clearInterval(me.jumping);\n        this.jumping = setInterval(() => {\n            if (me.y > limit && !goingDown) {\n                me.y -= 3;\n            } else {\n                goingDown = true;\n                me.y += 3;\n                if (me.y > me.originalY) {\n                    clearInterval(me.jumping);\n                    me.y = me.originalY;\n                    goingDown = false;\n                }\n            }\n        }, 10);\n    }\n    public shoot() {\n        this.bullets.push(new Bullet(this.direction, this.x, this.y, this.context));\n    }\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvYnVsbGV0LnRzIiwiYXBwL2VuZW15LWEudHMiLCJhcHAvZW5lbXktYi50cyIsImFwcC9nYW1lLW9iamVjdC50cyIsImFwcC9nYW1lLnRzIiwiYXBwL29ic3RhY2xlLnRzIiwiYXBwL3BsYXllci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O0FDQUEsNEJBQTJDLEFBRTNDOztJQUFvQjs7O0FBRWhCLG9CQUFZLEFBQWlCLFdBQUUsQUFBUyxHQUFFLEFBQVMsR0FBRSxBQUFRO0FBQ3pELEFBQUs7O29IQUFDLEFBQUMsR0FBRSxBQUFDLEdBQUUsQUFBRSxJQUFFLEFBQUUsSUFBRSxBQUFTLFdBQUUsQUFBRyxBQUFDLEFBQUM7O0FBQ3BDLEFBQUksY0FBQyxBQUFTLFlBQUcsQUFBUyxBQUFDO0FBQzNCLEFBQUksY0FBQyxBQUFXLEFBQUUsQUFBQyxBQUN2Qjs7QUFBQyxBQUNPLEFBQVc7Ozs7Ozs7QUFDZixnQkFBTSxBQUFFLEtBQUcsQUFBSSxBQUFDO0FBQ2hCLEFBQWEsMEJBQUMsQUFBRSxHQUFDLEFBQU8sQUFBQyxBQUFDO0FBQzFCLEFBQUksaUJBQUMsQUFBTyxzQkFBZSxBQUFHLEFBQUU7QUFDNUIsQUFBRSxBQUFDLG9CQUFDLEFBQUksT0FBQyxBQUFTLGNBQUssQUFBTyxBQUFDLFNBQUMsQUFBQztBQUM3QixBQUFFLHVCQUFDLEFBQUMsS0FBSSxBQUFDLEFBQUMsQUFDZDtBQUFDLEFBQUMsQUFBSSx1QkFBQyxBQUFFLEFBQUMsSUFBQyxBQUFJLE9BQUMsQUFBUyxjQUFLLEFBQU0sQUFBQyxRQUFDLEFBQUM7QUFDbkMsQUFBRSx1QkFBQyxBQUFDLEtBQUksQUFBQyxBQUFDLEFBQ2Q7QUFBQztBQUNELEFBQUUsQUFBQyxvQkFBQyxBQUFFLEdBQUMsQUFBQyxJQUFHLEFBQUUsR0FBQyxBQUFPLFFBQUMsQUFBTSxPQUFDLEFBQUssU0FBSSxBQUFF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QkFBQyxBQUFFLEdBQUMsQUFBQyxJQUFHLEFBQUUsR0FBQyxBQUFTLEFBQUMsV0FBQyxBQUFDO0FBQ3RCLEFBQWEsc0NBQUMsQUFBRSxHQUFDLEFBQU8sQUFBQyxBQUFDO0FBQzFCLEFBQUUsMkJBQUMsQUFBQyxJQUFHLEFBQUUsR0FBQyxBQUFTLEFBQUM7QUFDcEIsQUFBUyxvQ0FBRyxBQUFLLEFBQUMsQUFDdEI7QUFBQyxBQUNMO0FBQUMsQUFDTDtBQUFDLGFBWmMsQUFBVyxFQVl2QixBQUFFLEFBQUMsQUFBQyxBQUNYO0FBQUMsQUFDTSxBQUFLOzs7O0FBQ1IsQUFBSSxpQkFBQyxBQUFPLFFBQUMsQUFBSSxLQUFDLElBQUksU0FBTSxPQUFDLEFBQUksS0FBQyxBQUFTLFdBQUUsQUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUksS0FBQyxBQUFPLEFBQUMsQUFBQyxBQUFDLEFBQ2hGO0FBQUMsQUFDSjs7OztFQTVCMkIsY0FBVTs7QUFBdEMsaUJBNEJDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7IEdhbWVPYmplY3QgfSBmcm9tICcuL2dhbWUtb2JqZWN0JztcblxuZXhwb3J0IGNsYXNzIEJ1bGxldCBleHRlbmRzIEdhbWVPYmplY3Qge1xuICAgIHByaXZhdGUgbWlzc2lsZTogYW55O1xuICAgIGNvbnN0cnVjdG9yKGRpcmVjdGlvbjogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlciwgY3R4OiBhbnkpIHtcbiAgICAgICAgc3VwZXIoeCwgeSwgMTUsIDE1LCAnI2ZmZWNiMicsIGN0eCk7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgICB0aGlzLnNob290QnVsbGV0KCk7XG4gICAgfVxuICAgIHByaXZhdGUgc2hvb3RCdWxsZXQoKSB7XG4gICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgY2xlYXJJbnRlcnZhbChtZS5qdW1waW5nKTtcbiAgICAgICAgdGhpcy5taXNzaWxlID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAnZnJvbnQnKSB7XG4gICAgICAgICAgICAgICAgbWUueCArPSAzO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ2JhY2snKSB7XG4gICAgICAgICAgICAgICAgbWUueCAtPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lLnggPiBtZS5jb250ZXh0LmNhbnZhcy53aWR0aCB8fCBtZS54IDwgMCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobWUubWlzc2lsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEwKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7IEdhbWVPYmplY3QgfSBmcm9tICcuL2dhbWUtb2JqZWN0JztcblxuZXhwb3J0IGNsYXNzIEVuZW15QSBleHRlbmRzIEdhbWVPYmplY3Qge1xuICAgIHB1YmxpYyBmcmVlV2lsbCA9IGZhbHNlO1xuICAgIHB1YmxpYyBzcGVlZCA9IC44O1xuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyLCBjdHg6IGFueSkge1xuICAgICAgICBzdXBlcih4LCB5LCAxMCwgNDAsICcjYzgzMzQ5JywgY3R4KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHYW1lT2JqZWN0IH0gZnJvbSAnLi9nYW1lLW9iamVjdCc7XG5cbmV4cG9ydCBjbGFzcyBFbmVteUIgZXh0ZW5kcyBHYW1lT2JqZWN0IHtcbiAgICBwdWJsaWMgZnJlZVdpbGwgPSB0cnVlO1xuICAgIHB1YmxpYyBzcGVlZCA9IDEuMjtcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgY3R4OiBhbnkpIHtcbiAgICAgICAgc3VwZXIoeCwgeSAtIDEwLCAxMCwgNTAsICcjOGExODMwJywgY3R4KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJR2FtZU9iamVjdCB9IGZyb20gJy4vZ2FtZS1vYmplY3QuaW50ZXJmYWNlJztcblxuZXhwb3J0IGNsYXNzIEdhbWVPYmplY3QgaW1wbGVtZW50cyBJR2FtZU9iamVjdCB7XG4gICAgcHVibGljIGhwOiBudW1iZXI7XG4gICAgcHVibGljIHg6IG51bWJlcjtcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xuICAgIHB1YmxpYyBvcmlnaW5hbFk6IG51bWJlcjtcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7XG4gICAgcHVibGljIGNvbnRleHQ6IGFueTtcbiAgICBwdWJsaWMgY29sb3I6IHN0cmluZztcbiAgICBwdWJsaWMgc3BlZWQgPSAyMDtcbiAgICBwdWJsaWMgc3BlZWRYID0gMDtcbiAgICBwdWJsaWMganVtcGluZzogYW55O1xuICAgIHB1YmxpYyBkaXJlY3Rpb24gPSAnZnJvbnQnO1xuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyLCB3OiBudW1iZXIsIGg6IG51bWJlciwgY29sb3I6IHN0cmluZywgY3R4OiBhbnkpIHtcbiAgICAgICAgdGhpcy5ocCA9IDE7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMub3JpZ2luYWxZID0gdGhpcy55O1xuICAgICAgICB0aGlzLndpZHRoID0gdztcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjdHg7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgcHVibGljIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy54ICs9IHRoaXMuc3BlZWRYO1xuICAgICAgICB0aGlzLmNsZWFyU3BlZWQoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cbiAgICBwdWJsaWMgbW92ZUZyb250KCkge1xuICAgICAgICB0aGlzLnNwZWVkWCA9IHRoaXMuc3BlZWQ7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gJ2Zyb250JztcbiAgICB9XG4gICAgcHVibGljIG1vdmVCYWNrKCkge1xuICAgICAgICB0aGlzLnNwZWVkWCA9IHRoaXMuc3BlZWQgKiAtMTtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAnYmFjayc7XG4gICAgfVxuICAgIHB1YmxpYyBjbGVhclNwZWVkKCkge1xuICAgICAgICB0aGlzLnNwZWVkWCA9IDA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRW5lbXlBIH0gZnJvbSAnLi9lbmVteS1hJztcbmltcG9ydCB7IEVuZW15QiB9IGZyb20gJy4vZW5lbXktYic7XG5pbXBvcnQgeyBHYW1lT2JqZWN0IH0gZnJvbSAnLi9nYW1lLW9iamVjdCc7XG5pbXBvcnQgeyBPYnN0YWNsZSB9IGZyb20gJy4vb2JzdGFjbGUnO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9wbGF5ZXInO1xuXG5jbGFzcyBHYW1lIHtcbiAgcHJpdmF0ZSBjYW52YXM6IGFueTtcbiAgcHJpdmF0ZSBjb250ZXh0OiBhbnk7XG4gIHByaXZhdGUgcGxheWVyOiBQbGF5ZXI7XG4gIHByaXZhdGUgZmxvb3I6IEdhbWVPYmplY3Q7XG4gIHByaXZhdGUgb2JzdGFjbGVzOiBPYnN0YWNsZVtdO1xuICBwcml2YXRlIGVuZW1pZXM6IEdhbWVPYmplY3RbXTtcbiAgcHJpdmF0ZSBsZXZlbDogbnVtYmVyO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0YXJ0R2FtZSgpO1xuICB9XG5cbiAgcHVibGljIHN0YXJ0R2FtZSgpIHtcbiAgICAvLyBMZXZlbCB0byBwbGF5XG4gICAgdGhpcy5sZXZlbCA9IDE7XG5cbiAgICAvLyBDYW52YXMgc2V0dXBcbiAgICB0aGlzLnNldENhbnZhcygpO1xuXG4gICAgLy8gQWRkIGVsZW1lbnRzOiBwbGF5ZXJzLCBvYnN0YWNsZXMgYW5kIGVuZW1pZXNcbiAgICB0aGlzLmNyZWF0ZVBsYXllcigpO1xuICAgIHRoaXMuY3JlYXRlT2JzdGFjbGVzKCk7XG4gICAgdGhpcy5jcmVhdGVFbmVtaWVzKCk7XG4gICAgdGhpcy5zZXRMZXZlbEVsZW1lbnRzKHRoaXMubGV2ZWwpO1xuXG4gICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgfVxuICBwcml2YXRlIHNldENhbnZhcygpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IDgwMDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSAyNzA7XG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZSh0aGlzLmNhbnZhcywgZG9jdW1lbnQuYm9keS5jaGlsZE5vZGVzWzBdKTtcbiAgICAvLyBGdW5jdGlvbiBmb3IgY2FudmFzIHJlZnJlc2hpbmdcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnVwZGF0ZUdhbWVBcmVhKCksIDIwKTtcbiAgfVxuICBwcml2YXRlIHNldExldmVsRWxlbWVudHMobGV2ZWw6IG51bWJlcikge1xuICAgIC8vIEdlbmVyYWwgZWxlbWVudHNcbiAgICB0aGlzLmZsb29yID0gbmV3IEdhbWVPYmplY3QoMCwgMjUwLCA4MDAsIDIwLCAnIzY2NzI5MicsIHRoaXMuY29udGV4dCk7XG4gICAgc3dpdGNoIChsZXZlbCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICAvLyBBZGQgZWxlbWVudHM6IHBsYXllcnMsIG9ic3RhY2xlcyBhbmQgZW5lbWllc1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBjcmVhdGVQbGF5ZXIoKSB7XG4gICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyKDIwLCAyMTAsIHRoaXMuY29udGV4dCk7XG4gIH1cbiAgcHJpdmF0ZSBjcmVhdGVPYnN0YWNsZXMoKSB7XG4gICAgdGhpcy5vYnN0YWNsZXMgPSBbXG4gICAgICBuZXcgT2JzdGFjbGUoMTIwLCAyMzAsIDIwLCAyMCwgJyM4ZDlkYjYnLCB0aGlzLmNvbnRleHQpLFxuICAgICAgbmV3IE9ic3RhY2xlKDI4MCwgMjMwLCAyMCwgMjAsICcjOGQ5ZGI2JywgdGhpcy5jb250ZXh0KSxcbiAgICBdO1xuICB9XG4gIHByaXZhdGUgY3JlYXRlRW5lbWllcygpIHtcbiAgICB0aGlzLmVuZW1pZXMgPSBbXG4gICAgICBuZXcgRW5lbXlBKDE1MCwgMjEwLCB0aGlzLmNvbnRleHQpLFxuICAgICAgbmV3IEVuZW15QSgyNDAsIDIxMCwgdGhpcy5jb250ZXh0KSxcbiAgICAgIG5ldyBFbmVteUIoNDgwLCAyMTAsIHRoaXMuY29udGV4dCksXG4gICAgXTtcbiAgfVxuICBwcml2YXRlIGNsZWFyKCkge1xuICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gIH1cbiAgcHJpdmF0ZSB1cGRhdGVHYW1lQXJlYSgpIHtcbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5mbG9vci51cGRhdGUoKTtcbiAgICB0aGlzLnBsYXllci51cGRhdGUoKTtcbiAgICB0aGlzLnJlbmRlckVuZW1pZXMoKTtcbiAgICB0aGlzLnJlbmRlck9ic3RhY2xlcygpO1xuICAgIHRoaXMucmVuZGVyQnVsbGV0cygpO1xuICB9XG4gIHByaXZhdGUgcmVuZGVyRW5lbWllcygpIHtcbiAgICBmb3IgKGNvbnN0IGVuZW15IG9mIHRoaXMuZW5lbWllcykge1xuICAgICAgZW5lbXkudXBkYXRlKCk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgcmVuZGVyT2JzdGFjbGVzKCkge1xuICAgIGZvciAoY29uc3Qgb2JzdGFjbGUgb2YgdGhpcy5vYnN0YWNsZXMpIHtcbiAgICAgIG9ic3RhY2xlLnVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuICBwcml2YXRlIHJlbmRlckJ1bGxldHMoKSB7XG4gICAgZm9yIChjb25zdCBidWxsZXQgb2YgdGhpcy5wbGF5ZXIuYnVsbGV0cykge1xuICAgICAgLy8gY2hlY2sgaWYgaXMgc3RpbGwgdmlzaWJsZVxuICAgICAgaWYgKGJ1bGxldC54ID4gdGhpcy5jYW52YXMud2lkdGggfHwgYnVsbGV0LnggPCAwKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5wbGF5ZXIuYnVsbGV0cy5pbmRleE9mKGJ1bGxldCk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXIuYnVsbGV0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBidWxsZXQudXBkYXRlKCk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgYWRkRXZlbnRzKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHRoaXMuY2hlY2tLZXkoZSksIGZhbHNlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZSkgPT4gdGhpcy5jaGVja0tleShlKSwgZmFsc2UpO1xuICB9XG4gIHByaXZhdGUgY2hlY2tLZXkoZTogYW55KSB7XG4gICAgY29uc3QgY29kZSA9IGUua2V5Q29kZTtcbiAgICBpZiAoZS50eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgIGNhc2UgMzI6IHRoaXMucGxheWVyLnNob290KCk7IGJyZWFrOyAvLyBMZWZ0IGtleVxuICAgICAgICAgIGNhc2UgMzc6IHRoaXMucGxheWVyLm1vdmVCYWNrKCk7IGJyZWFrOyAvLyBMZWZ0IGtleVxuICAgICAgICAgIGNhc2UgMzg6IHRoaXMucGxheWVyLmp1bXAoKTsgYnJlYWs7IC8vIFVwIGtleVxuICAgICAgICAgIGNhc2UgMzk6IHRoaXMucGxheWVyLm1vdmVGcm9udCgpOyBicmVhazsgLy8gUmlnaHQga2V5XG4gICAgICAgICAgZGVmYXVsdDogY29uc29sZS5sb2coY29kZSk7IC8vIEV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZS50eXBlID09PSAna2V5dXAnKSB7XG4gICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICBjYXNlIDM3OiB0aGlzLnBsYXllci5jbGVhclNwZWVkKCk7IGJyZWFrOyAvLyBMZWZ0IGtleVxuICAgICAgICAgIGNhc2UgMzk6IHRoaXMucGxheWVyLmNsZWFyU3BlZWQoKTsgYnJlYWs7IC8vIFJpZ2h0IGtleVxuICAgICAgICAgIGRlZmF1bHQ6IGNvbnNvbGUubG9nKGNvZGUpOyAvLyBFdmVyeXRoaW5nIGVsc2VcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmNvbnN0IGdhbWUgPSBuZXcgR2FtZSgpO1xuLy8gZ2FtZS5zdGFydEdhbWUoKTtcbiIsImltcG9ydCB7IElHYW1lT2JqZWN0IH0gZnJvbSAnLi9nYW1lLW9iamVjdC5pbnRlcmZhY2UnO1xuXG5leHBvcnQgY2xhc3MgT2JzdGFjbGUgaW1wbGVtZW50cyBJR2FtZU9iamVjdCB7XG4gICAgcHVibGljIHg6IG51bWJlcjtcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcbiAgICBwdWJsaWMgY29udGV4dDogYW55O1xuICAgIHB1YmxpYyBjb2xvcjogc3RyaW5nO1xuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyLCB3OiBudW1iZXIsIGg6IG51bWJlciwgY29sb3I6IHN0cmluZywgY3R4OiBhbnkpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHc7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY3R4O1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICAgIHB1YmxpYyB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCdWxsZXQgfSBmcm9tICcuL2J1bGxldCc7XG5pbXBvcnQgeyBHYW1lT2JqZWN0IH0gZnJvbSAnLi9nYW1lLW9iamVjdCc7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBHYW1lT2JqZWN0IHtcbiAgICBwdWJsaWMgYnVsbGV0czogQnVsbGV0W107XG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIGN0eDogYW55KSB7XG4gICAgICAgIHN1cGVyKHgsIHksIDEwLCA0MCwgJyM5MDdkNjEnLCBjdHgpO1xuICAgICAgICB0aGlzLmJ1bGxldHMgPSBbXTtcbiAgICB9XG4gICAgcHVibGljIGp1bXAoKSB7XG4gICAgICAgIGxldCBnb2luZ0Rvd24gPSBmYWxzZTtcbiAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICBjb25zdCBsaW1pdCA9IDE1MDtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChtZS5qdW1waW5nKTtcbiAgICAgICAgdGhpcy5qdW1waW5nID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG1lLnkgPiBsaW1pdCAmJiAhZ29pbmdEb3duKSB7XG4gICAgICAgICAgICAgICAgbWUueSAtPSAzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnb2luZ0Rvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIG1lLnkgKz0gMztcbiAgICAgICAgICAgICAgICBpZiAobWUueSA+IG1lLm9yaWdpbmFsWSkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKG1lLmp1bXBpbmcpO1xuICAgICAgICAgICAgICAgICAgICBtZS55ID0gbWUub3JpZ2luYWxZO1xuICAgICAgICAgICAgICAgICAgICBnb2luZ0Rvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEwKTtcbiAgICB9XG4gICAgcHVibGljIHNob290KCkge1xuICAgICAgICB0aGlzLmJ1bGxldHMucHVzaChuZXcgQnVsbGV0KHRoaXMuZGlyZWN0aW9uLCB0aGlzLngsIHRoaXMueSwgdGhpcy5jb250ZXh0KSk7XG4gICAgfVxufVxuIl19"}